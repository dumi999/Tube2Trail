


<div class="profile-header">
  <div class="container">
    <div class="profile-info">
      <div class="avatar-container">
  <% if @user.photo.present? %>
    <%= image_tag(@user.photo.url, alt: "Avatar", class: "avatar-img") %>
  <% else %>
    <div class="default-avatar"></div>
  <% end %>
</div>
      <h1 class="profile-name"><strong><%= @user.username %></strong></h1>
    </div>
  </div>
</div>

<div class="description-container" id="about-me-container">
  <div class="container1">
    <div class="about-me">
      <p><strong>About Me:</strong> <span id="about-me-content"><%= @user.description %></span></p>
    </div>
  </div>
</div>



<div class="liked-activities-container">
  <div class="container">
  <p><strong>Liked Activities:</strong> <%= @user.description %></p>
  <a class="btn btn-ghost" href="#">Rowing</a>
  <a class="btn btn-ghost" href="#">Hiking</a>
  <a class="btn btn-ghost" href="#">Biking</a>
  <a class="btn btn-ghost" href="#">Camping</a>
  <a class="btn btn-ghost" href="#">Kayaking</a>
  <a class="btn btn-ghost" href="#">Sailing</a>
  <a class="btn btn-ghost" href="#">Snowboarding</a>
  </div>
  <div class="lastbuttons">
  <a class="btn btn-ghost" href="#">Fishing</a>
  <a class="btn btn-ghost" href="#">Swimming</a>
  </div>
  <p class = "recent" ><strong>Recent Activities:</strong>
  <div class="avatar-circle-container">
  <div class="avatar-circle"></div>
  <div class="avatar-circle"></div>
  <div class="avatar-circle"></div>
</div>
<div class="card-container">
    <div class="tiny-card"></div>
    <div class="tiny-card"></div>
    <div class="tiny-card"></div>
    <div class="tiny-card"></div>
    <div class="tiny-card"></div>
    <div class="tiny-card"></div>
    <div class="tiny-card"></div>
</div>

</div>

<div class="liked-activities-container">
  <div class="container">
  <p><strong>Liked Activities:</strong> <%= @user.description %></p>
  </div>
</div>

<script>
document.addEventListener('click', function(event) {
  var aboutMeContainer = document.getElementById('about-me-container');
  var target = event.target;
  if (target.closest('.description-container') === aboutMeContainer) {
    makeEditable();
  }
});

function makeEditable() {
  var aboutMeContent = document.getElementById('about-me-content');
  var description = aboutMeContent.textContent.trim();
  aboutMeContent.innerHTML = '<textarea id="edit-about-me" rows="5" cols="50" maxlength="200">' + description + '</textarea>'; // Adjust rows, cols, and maxlength as needed
  var editArea = document.getElementById('edit-about-me');
  editArea.focus();
  editArea.addEventListener('blur', function() {
    aboutMeContent.innerHTML = editArea.value;
    // You can also send an AJAX request here to update the database with the new description
  });
}

function saveDescription() {
  var editArea = document.getElementById('edit-about-me');
  var description = editArea.value;
  localStorage.setItem('aboutMeDescription', description);
}

// Function to load the saved input data from localStorage
function loadDescription() {
  var savedDescription = localStorage.getItem('aboutMeDescription');
  if (savedDescription) {
    var editArea = document.getElementById('edit-about-me');
    editArea.value = savedDescription;
  }
}

// Event listener to save the input data when leaving the page
window.addEventListener('beforeunload', function() {
  saveDescription();
});

</script>
